Project( ITKToolsDocumentation )

#---------------------------------------------------------------------
# The documentation is built by running each program with the --help flag and redirecting the output to a file.
# The help text that ends up in the file is then included in the doxygen using the \verbinclude command.
# The best way I've found to do this is to build ITKTools with ITKTOOLS_BUILD_DOCUMENTATION=OFF, then set
# ITKTOOLS_BUILD_DOCUMENTATION and run CMake again. The idea is that the executables must all be built
# before these commands can be run.

# You must set EXAMPLE_PATH = ${OutDir}
# (for example EXAMPLE_PATH = /home/doriad/bin/ITKTools/Documentation)
# so that \verbinclude knows where to look for these files.

IF( ITKTOOLS_BUILD_DOCUMENTATION)
  set(ExeDir ${EXECUTABLE_OUTPUT_PATH})
  set(OutDir ${ITKTools_BINARY_DIR}/Documentation/)

  execute_process(COMMAND ${ExeDir}/pxaveragevectormagnitude -help ERROR_FILE ${OutDir}/averagevectormagnitude.help )
  execute_process(COMMAND ${ExeDir}/pxbinaryimageoperator -help ERROR_FILE ${OutDir}/binaryimageoperator.help)
  execute_process(COMMAND ${ExeDir}/pxbinarythinning -help ERROR_FILE ${OutDir}/binarythinning.help)
  execute_process(COMMAND ${ExeDir}/pxbraindistance -help ERROR_FILE ${OutDir}/braindistance.help)
  execute_process(COMMAND ${ExeDir}/pxcastconvert -help ERROR_FILE ${OutDir}/castconvert.help)
  execute_process(COMMAND ${ExeDir}/pxclosestversor3Dtransform -help ERROR_FILE ${OutDir}/closestversor3Dtransform.help)
  execute_process(COMMAND ${ExeDir}/pxcombinesegmentations -help ERROR_FILE ${OutDir}/combinesegmentations.help)
  execute_process(COMMAND ${ExeDir}/pxcomputeboundingbox -help ERROR_FILE ${OutDir}/computeboundingbox.help)
  execute_process(COMMAND ${ExeDir}/pxcomputedifferenceimageBIG -help ERROR_FILE ${OutDir}/computedifferenceimageBIG.help)
  execute_process(COMMAND ${ExeDir}/pxcomputemean -help ERROR_FILE ${OutDir}/computemean.help)
  execute_process(COMMAND ${ExeDir}/pxcomputeoverlap -help ERROR_FILE ${OutDir}/computeoverlap.help)
  execute_process(COMMAND ${ExeDir}/pxcontrastenhanceimage -help ERROR_FILE ${OutDir}/contrastenhanceimage.help)
  execute_process(COMMAND ${ExeDir}/pxcountnonzerovoxels -help ERROR_FILE ${OutDir}/countnonzerovoxels.help)
  execute_process(COMMAND ${ExeDir}/pxcreatebox -help ERROR_FILE ${OutDir}/createbox.help)
  execute_process(COMMAND ${ExeDir}/pxcreatecylinder -help ERROR_FILE ${OutDir}/createcylinder.help)
  execute_process(COMMAND ${ExeDir}/pxcreateellipsoid -help ERROR_FILE ${OutDir}/createellipsoid.help)
  execute_process(COMMAND ${ExeDir}/pxcreategridimage -help ERROR_FILE ${OutDir}/creategridimage.help)
  execute_process(COMMAND ${ExeDir}/pxcreaterandomimage -help ERROR_FILE ${OutDir}/createrandomimage.help)
  execute_process(COMMAND ${ExeDir}/pxcreatesimplebox -help ERROR_FILE ${OutDir}/createsimplebox.help)
  execute_process(COMMAND ${ExeDir}/pxcreatesphere -help ERROR_FILE ${OutDir}/createsphere.help)
  execute_process(COMMAND ${ExeDir}/pxcreatezeroimage -help ERROR_FILE ${OutDir}/createzeroimage.help)
  execute_process(COMMAND ${ExeDir}/pxcropimage -help ERROR_FILE ${OutDir}/cropimage.help)
  execute_process(COMMAND ${ExeDir}/pxdeformationfieldgenerator -help ERROR_FILE ${OutDir}/deformationfieldgenerator.help)
  execute_process(COMMAND ${ExeDir}/pxdetectgoldmarkers -help ERROR_FILE ${OutDir}/detectgoldmarkers.help)
  execute_process(COMMAND ${ExeDir}/pxdistancetransform -help ERROR_FILE ${OutDir}/distancetransform.help)
  execute_process(COMMAND ${ExeDir}/pxextracteveryotherslice -help ERROR_FILE ${OutDir}/extracteveryotherslice.help)
  execute_process(COMMAND ${ExeDir}/pxextractindexfromvectorimage -help ERROR_FILE ${OutDir}/extractindexfromvectorimage.help)
  execute_process(COMMAND ${ExeDir}/pxextractslice -help ERROR_FILE ${OutDir}/extractslice.help)
  execute_process(COMMAND ${ExeDir}/pxfftimage -help ERROR_FILE ${OutDir}/fftimage.help)
  execute_process(COMMAND ${ExeDir}/pxgaussianimagefilter -help ERROR_FILE ${OutDir}/gaussianimagefilter.help)
  execute_process(COMMAND ${ExeDir}/pxgetdicominformation -help ERROR_FILE ${OutDir}/getdicominformation.help)
  execute_process(COMMAND ${ExeDir}/pxgetDICOMseriesUIDs  -help ERROR_FILE ${OutDir}/getDICOMseriesUIDs.help)
  execute_process(COMMAND ${ExeDir}/pxgetimageinformation -help ERROR_FILE ${OutDir}/getimageinformation.help)
  execute_process(COMMAND ${ExeDir}/pxgetpointsinimage -help ERROR_FILE ${OutDir}/getpointsinimage.help)
  execute_process(COMMAND ${ExeDir}/pxgiplconvert -help ERROR_FILE ${OutDir}/giplconvert.help)
  execute_process(COMMAND ${ExeDir}/pxhistogramequalizeimage -help ERROR_FILE ${OutDir}/histogramequalizeimage.help)
  execute_process(COMMAND ${ExeDir}/pximagecompare -help ERROR_FILE ${OutDir}/imagecompare.help)
  execute_process(COMMAND ${ExeDir}/pximagestovectorimage -help ERROR_FILE ${OutDir}/averagevectormagnitude.help)
  execute_process(COMMAND ${ExeDir}/pxintensityreplace -help ERROR_FILE ${OutDir}/intensityreplace.help)
  execute_process(COMMAND ${ExeDir}/pxintensitywindowing -help ERROR_FILE ${OutDir}/intensitywindowing.help)
  execute_process(COMMAND ${ExeDir}/pxinvertintensityimagefilter -help ERROR_FILE ${OutDir}/invertintensityimagefilter.help)
  execute_process(COMMAND ${ExeDir}/pxkappastatistic -help ERROR_FILE ${OutDir}/kappastatistic.help)
  execute_process(COMMAND ${ExeDir}/pxlogicalimageoperator -help ERROR_FILE ${OutDir}/logicalimageoperator.help)
  execute_process(COMMAND ${ExeDir}/pxmorphology -help ERROR_FILE ${OutDir}/morphology.help)
  execute_process(COMMAND ${ExeDir}/pxnaryimageoperator -help ERROR_FILE ${OutDir}/naryimageoperator.help)
  execute_process(COMMAND ${ExeDir}/pxpca -help ERROR_FILE ${OutDir}/pca.help)
  execute_process(COMMAND ${ExeDir}/pxreflect -help ERROR_FILE ${OutDir}/reflect.help)
  execute_process(COMMAND ${ExeDir}/pxreplacevoxel -help ERROR_FILE ${OutDir}/replacevoxel.help)
  execute_process(COMMAND ${ExeDir}/pxrescaleintensityimagefilter -help ERROR_FILE ${OutDir}/rescaleintensityimagefilter.help)
  execute_process(COMMAND ${ExeDir}/pxreshape -help ERROR_FILE ${OutDir}/reshape.help)
  execute_process(COMMAND ${ExeDir}/pxresizeimage -help ERROR_FILE ${OutDir}/resizeimage.help)
  execute_process(COMMAND ${ExeDir}/pxsegmentationdistance -help ERROR_FILE ${OutDir}/segmentationdistance.help)
  execute_process(COMMAND ${ExeDir}/pxstatisticsonimage -help ERROR_FILE ${OutDir}/statisticsonimage.help)
  execute_process(COMMAND ${ExeDir}/pxtexture -help ERROR_FILE ${OutDir}/texture.help)
  execute_process(COMMAND ${ExeDir}/pxtileimages -help ERROR_FILE ${OutDir}/tileimages.help)
  execute_process(COMMAND ${ExeDir}/pxttest -help ERROR_FILE ${OutDir}/ttest.help)
  execute_process(COMMAND ${ExeDir}/pxthresholdimage -help ERROR_FILE ${OutDir}/thresholdimage.help)
  execute_process(COMMAND ${ExeDir}/pxunaryimageoperator -help ERROR_FILE ${OutDir}/unaryimageoperator.help)
  execute_process(COMMAND ${ExeDir}/pxweightedaddition -help ERROR_FILE ${OutDir}/weightedaddition.help)
endif()